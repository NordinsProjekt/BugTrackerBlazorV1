@page "/projectbugs/{Id:int}"
<h3>ProjectBugs</h3>

@if (@TestData().Count > 0)
{
<table>
    <thead>
        <tr>
            <th>Id</th>
            <th>Title</th>
            <th>Description</th>
            <th>Priority</th>
        </tr>
    </thead>
    @foreach (var bug in @TestData())
    {

        <tr>
            <td>@bug.Id</td>
            <td>@bug.Title</td>
            <td>@bug.Description</td>
            <td>@bug.Priority</td>
        </tr>

    }
</table>
}
else
{
    <p>Well done no bugs dude!!</p>
}

@code 
{
    [Parameter]
    public int Id { get; set; }

    public List<Bug> Bugs { get; set; }
    protected List<Bug> TestData()
    {
        Data db = new Data();
        Bugs = db.GetBugs().Where(x => x.ProjectId == Id).OrderBy(x => x.Priority).ToList();
        return Bugs;
    }

}
